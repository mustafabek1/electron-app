<!-- <!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electron Klavye</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        #openKeyboard {
            padding: 10px;
            background: blue;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button id="openKeyboard">Klavye Aç</button>

    <script>
        const { ipcRenderer } = require("electron");

        document.getElementById("openKeyboard").addEventListener("click", () => {
            ipcRenderer.send("open-keyboard");
        });
    </script>
</body>
</html>a, -->



<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electron Klavye & Ses</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }

        #openKeyboard {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 10px;
            background: blue;
            color: white;
            border: none;
            cursor: pointer;
        }

        .hidden {
            display: none;
        }

        #keyboard {
            margin-top: 20px;
        }

        #keyboard div {
            margin: 5px 0;
        }

        .key {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            margin: 5px;
            border: 1px solid #ccc;
            cursor: pointer;
            background: lightgray;
        }

        .key:hover {
            background: gray;
            color: white;
        }

        /* Ses çubuğunu sol alt köşeye sabitle */
        #volume-container {
            position: fixed;
            bottom: 20px;
            left: 20px; /* Sol köşe */
            width: 200px;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            
        }

        #volume-slider {
            position: absolute;
            top: -5px;
            width: 20px;
            height: 20px;
            background: blue;
            border-radius: 50%;
            cursor: grab;
        }
    </style>
</head>
<body>
    <button id="openKeyboard">Klavye Aç</button>

    <div id="keyboardContainer" class="hidden">
        <input type="text" id="textInput" readonly />
        <button id="saveText">Kaydet</button>

        <div id="keyboard">
            <div>
                <span class="key">Q</span>
                <span class="key">W</span>
                <span class="key">E</span>
                <span class="key">R</span>
                <span class="key">T</span>
                <span class="key">Y</span>
                <span class="key">U</span>
                <span class="key">I</span>
                <span class="key">O</span>
                <span class="key">P</span>
            </div>
            <div>
                <span class="key">A</span>
                <span class="key">S</span>
                <span class="key">D</span>
                <span class="key">F</span>
                <span class="key">G</span>
                <span class="key">H</span>
                <span class="key">J</span>
                <span class="key">K</span>
                <span class="key">L</span>
            </div>
            <div>
                <span class="key">Z</span>
                <span class="key">X</span>
                <span class="key">C</span>
                <span class="key">V</span>
                <span class="key">B</span>
                <span class="key">N</span>
                <span class="key">M</span>
                <span class="key">←</span> <!-- Silme Tuşu -->
            </div>
        </div>
    </div>

    <div id="volume-container">
        <div id="volume-slider"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const openKeyboard = document.getElementById("openKeyboard");
            const keyboardContainer = document.getElementById("keyboardContainer");
            const textInput = document.getElementById("textInput");
            const saveText = document.getElementById("saveText");
            const keys = document.querySelectorAll(".key");

            textInput.value = localStorage.getItem("savedText") || "";

            openKeyboard.addEventListener("click", () => {
                keyboardContainer.classList.toggle("hidden");
            });

            keys.forEach(key => {
                key.addEventListener("click", () => {
                    const keyValue = key.textContent;
                    if (keyValue === "←") {
                        textInput.value = textInput.value.slice(0, -1); // Son karakteri sil
                    } else {
                        textInput.value += keyValue;
                    }
                });
            });

            saveText.addEventListener("click", () => {
                localStorage.setItem("savedText", textInput.value);
                alert("Metin kaydedildi!");
            });
        });
           
        const { ipcRenderer } = require("electron");

        const slider = document.getElementById("volume-slider");
        const container = document.getElementById("volume-container");

        let isDragging = false;

        // Sayfa açıldığında sesi güncelle
        async function updateVolume() {
            const volume = await ipcRenderer.invoke("get-volume");
            const position = (1 - volume / 100) * (container.clientHeight - 20);
            slider.style.top = position + "px";
        }

        updateVolume();

        // Sürükleme işlemi başladığında
        slider.addEventListener("mousedown", (event) => {
            isDragging = true;
            event.preventDefault();
        });

        document.addEventListener("mousemove", async (event) => {
            if (!isDragging) return;

            let newY = event.clientY - container.getBoundingClientRect().top;
            newY = Math.max(0, Math.min(newY, container.clientHeight - 20));

            slider.style.top = newY + "px";

            const volume = Math.round((1 - newY / (container.clientHeight - 20)) * 100);
            await ipcRenderer.invoke("set-volume", volume);
        });

        document.addEventListener("mouseup", () => {
            isDragging = false;
        });
    </script>
</body>
</html>

